
@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Satoshi:wght@400;500;600;700;800;900&display=swap');

/* New Dual Theme CSS Variables */
@layer base {
  :root {
    /* Light Mode (Default) */
    --color-background: #F9FAFB;
    --color-card-surface: #FFFFFF;
    --color-text-primary: #111827;
    --color-text-secondary: #6B7280;
    --color-accent-primary: #7C3AED;
    --color-accent-hover: #6D28D9;
    --color-accent-gradient: linear-gradient(90deg, #7C3AED, #9333EA);
    --color-borders-lines: #E5E7EB;
    --color-success: #16A34A;
    --color-error: #DC2626;
    --color-card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.05); /* For light theme card shadow */
    --color-glass-layer-bg: rgba(255, 255, 255, 0.6); /* Light mode glass, adjust if needed */


    /* ShadCN UI Theme Variables - Light Mode */
    --background: 249 250 251; /* #F9FAFB */
    --foreground: 17 24 39;    /* #111827 */
    --card: 255 255 255;       /* #FFFFFF */
    --card-foreground: 17 24 39; /* #111827 */
    --popover: 255 255 255;    /* #FFFFFF */
    --popover-foreground: 17 24 39; /* #111827 */
    --primary: 124 58 237;     /* #7C3AED */
    --primary-foreground: 245 245 245; /* #F5F5F5 (for text on primary bg) */
    --secondary: 107 114 128;  /* #6B7280 (using text-secondary as a base for this) */
    --secondary-foreground: 245 245 245; /* #F5F5F5 (text on secondary bg) */
    --muted: 229 231 235;      /* #E5E7EB (borders/lines color) */
    --muted-foreground: 107 114 128; /* #6B7280 (text-secondary) */
    --accent: 124 58 237;      /* #7C3AED */
    --accent-foreground: 245 245 245; /* #F5F5F5 */
    --destructive: 220 38 38;  /* #DC2626 */
    --destructive-foreground: 245 245 245; /* #F5F5F5 */
    --border: 229 231 235;     /* #E5E7EB */
    --input: 229 231 235;      /* #E5E7EB */
    --ring: 124 58 237;        /* #7C3AED */
    --radius: 0.75rem;
  }

  .dark {
    /* Dark Mode */
    --color-background: #0B0C10;
    --color-card-surface: #1C1E26;
    --color-text-primary: #F5F5F5;
    --color-text-secondary: #9CA3AF;
    --color-accent-primary: #7C3AED;
    --color-accent-hover: #9F67FF;
    --color-accent-gradient: linear-gradient(90deg, #7C3AED, #6366F1);
    --color-borders-lines: #2A2F3A;
    --color-success: #22C55E;
    --color-error: #EF4444;
    --color-card-shadow: none; /* Typically no shadow or different shadow in dark mode */
    --color-glass-layer-bg: rgba(28, 30, 38, 0.6);

    /* ShadCN UI Theme Variables - Dark Mode */
    --background: 11 12 16;     /* #0B0C10 */
    --foreground: 245 245 245;  /* #F5F5F5 */
    --card: 28 30 38;         /* #1C1E26 */
    --card-foreground: 245 245 245; /* #F5F5F5 */
    --popover: 28 30 38;      /* #1C1E26 */
    --popover-foreground: 245 245 245; /* #F5F5F5 */
    --primary: 124 58 237;      /* #7C3AED */
    --primary-foreground: 245 245 245; /* #F5F5F5 */
    --secondary: 156 163 175;   /* #9CA3AF (using text-secondary as a base) */
    --secondary-foreground: 11 12 16; /* #0B0C10 (text on secondary bg) */
    --muted: 42 47 58;        /* #2A2F3A (borders/lines color) */
    --muted-foreground: 156 163 175; /* #9CA3AF (text-secondary) */
    --accent: 124 58 237;       /* #7C3AED */
    --accent-foreground: 245 245 245; /* #F5F5F5 */
    --destructive: 239 68 68;   /* #EF4444 */
    --destructive-foreground: 245 245 245; /* #F5F5F5 */
    --border: 42 47 58;       /* #2A2F3A */
    --input: 42 47 58;        /* #2A2F3A */
    --ring: 124 58 237;         /* #7C3AED */
  }
}

@layer base {
  * {
    /* Use the new borders-lines color variable */
    @apply border-borders-lines;
  }

  body {
    /* Apply background and text colors using the new variables via Tailwind's theme extension */
    @apply bg-light-background text-light-text-primary dark:bg-dark-background dark:text-dark-text-primary font-inter;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-satoshi text-light-text-primary dark:text-dark-text-primary;
  }
}

@layer components {
  .font-satoshi {
    font-family: 'Satoshi', sans-serif;
  }

  .font-inter {
    font-family: 'Inter', sans-serif;
  }

  /* Updated Glass Card for dual theme */
  .glass-card {
    @apply bg-color-glass-layer-bg backdrop-blur-md border border-color-borders-lines/30;
    /* Light mode specific shadow if needed, can be done with utilities too */
    @apply shadow-card-light dark:shadow-none;
  }
  /* Ensure backdrop-filter works if not enabled by default in Tailwind config */
  /* In tailwind.config.js, ensure 'backdropBlur' is extended if you use classes like backdrop-blur-md */


  /* Button Styles - Mobile First */
  .btn { /* Base button style, can be extended */
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
    @apply sm:px-6 sm:py-3; /* Larger padding on sm+ screens */
  }

  .btn-primary {
    @apply btn bg-light-accent-primary text-white hover:bg-light-accent-hover dark:bg-dark-accent-primary dark:hover:bg-dark-accent-hover;
    /* Apply gradient using Tailwind's bg-gradient utility with defined gradient names */
    @apply bg-accent-gradient-light dark:bg-accent-gradient-dark;
    @apply focus:ring-light-accent-primary dark:focus:ring-dark-accent-primary;
  }

  .btn-secondary {
    @apply btn bg-transparent border-2 border-light-accent-primary text-light-accent-primary hover:bg-light-accent-primary hover:text-white;
    @apply dark:border-dark-accent-primary dark:text-dark-accent-primary dark:hover:bg-dark-accent-primary dark:hover:text-dark-text-primary;
    @apply focus:ring-light-accent-primary dark:focus:ring-dark-accent-primary;
  }
  
  /* Example of a Track Card - Mobile First */
  .track-card {
    @apply bg-light-card-surface dark:bg-dark-card-surface rounded-xl p-4; /* Base padding */
    @apply border border-light-borders-lines dark:border-dark-borders-lines;
    @apply shadow-card-light dark:shadow-none; /* Apply light mode shadow */
    @apply transition-all duration-300 hover:scale-[1.02];
    /* On larger screens, you might increase padding or change layout */
    @apply sm:p-6;
  }

  /* Custom scrollbar - Themed */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-light-accent-primary/50 dark:bg-dark-accent-primary/50 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-light-accent-hover dark:bg-dark-accent-hover;
  }
}

/* Remove old DecentraTune specific component styles if they are not aligned with the new theme */
/* For example, .bg-gradient-dark, .bg-gradient-primary, .text-dt-primary etc. from the old theme should be refactored or removed. */

/* Audio visualizer animation (can be kept if still used) */
@keyframes wave {
  0%, 100% { height: 4px; }
  50% { height: 20px; }
}

.wave-bar {
  animation: wave 1s ease-in-out infinite;
}

.wave-bar:nth-child(2) { animation-delay: 0.1s; }
.wave-bar:nth-child(3) { animation-delay: 0.2s; }
.wave-bar:nth-child(4) { animation-delay: 0.3s; }
.wave-bar:nth-child(5) { animation-delay: 0.4s; }

/* Enhanced Animations */
@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.animate-slide-in-up {
  animation: slideInUp 0.5s ease-out;
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.3s ease-out;
}

.animate-pulse-hover:hover {
  animation: pulse 0.6s ease-in-out;
}

/* Smooth transitions for layout changes */
.layout-transition {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom focus styles */
.focus-ring:focus {
  @apply outline-none ring-2 ring-dt-primary ring-offset-2 ring-offset-transparent;
}
